默认情况下,在非默认子网中启动的实例不会获得公有 IP 地址,而且无法与 Internet 通信。
您可以为在非默认子网内启动的实例启用 Internet 访问功能.
步骤如下:
为 VPC 连接 Internet 网关
创建自定义路由表
更新您的安全组规则以及为每项实例关联相应的弹性 IP 地址

在非默认子网中启动的每项实例都有一个私有 IP 地址,但没有公有 IP 地址。这些实例可以彼此通信,但是不可访问 Internet 或其他 AWS 产品
非默认子网中启动的实例启用 Internet 访问功能,步骤如下:
将 Internet 网关与其 VPC 关联(如果其 VPC 不是默认 VPC)
然后将弹性 IP 地址与该实例相关联。

子网:
网关:
路由:
目的地		 目标
10.0.0.0/16	 本地
0.0.0.0/0 	eni-xxxxxxxx / i-xxxxxxxx
0.0.0.0/0 	igw-xxxxxxxx
第一条:允许vpc中的实例进行彼此之间的进行通信.
第二条:描述的条目可以将所有其他的子网数据发送到NAT实例,即通过AWS制定标识符分配的NAT实例
第三条:可通过 Internet 网关将所有其他子网数据流路由到 Internet,即通过其 AWS 指定标识符分配的 Internet网关(例如 igw-1a2b3d4d) ==> 没有NAT实例

安全组:
您的 VPC 会生成一个默认安全组,其初始规则会拒绝所有入站数据流、允许所有出站数据流以及允许所有在组内实例之间交换的数据流。如果您在启动实例时未指定安全组,实例将自动关联到默认安全组
NAT实例:
实例:
